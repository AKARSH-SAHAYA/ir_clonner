from machine import Pin,PWM #type:ignore
import time 


def looper(ms, status):
    if status:
        modulation.duty_u16(32768)  # IR ON
    else:
        modulation.duty_u16(0)      # IR OFF
    time.sleep_us(ms)


# the signal pin of ir transmitter is  22 
ir=Pin(22,Pin.OUT)
modulation=PWM(ir,freq=38000,duty_u16=32768)
#ir.value(0) # intially the ir led will be closed

signal= [884, 577, 1028, 576, 1041, 2557, 1032, 2571, 1031, 577, 1027, 578, 1027, 2571, 1035, 2568, 1045, 568, 1023, 2571, 1032, 577, 1028, 576, 1028, 2570, 1033, 577, 1027, 576, 1028, 577, 1039, 2563, 1030, 576, 1026, 577, 1028, 577, 1027, 2571, 1060, 550, 1028, 577, 1028, 576, 1029, 576, 1028, 576, 1027, 578, 1027, 2570, 1059, 2543, 1061, 549, 1055, 2543, 1061, 2542, 1062, 549, 1029, 575, 1028, 2570, 1060, 2543, 1033, 2571, 1031, 578, 1054, 2544, 1032, 2572, 1031, 577, 1054, 551, 1031, 2570, 1030, 2575, 1030, 2574, 1032, 573, 1052, 2551, 1054, 2550, 1030, 574, 1032, 572, 1033, 2547, 1081, 2523, 1084, 2519, 1085, 544, 1061, 2518, 1086, 2517, 1085, 545, 1058, 525, 1078, 525, 1078, 2523, 1078, 528, 1047, 558, 1051, 553, 1051, 2551, 1064, 545, 1047, 554, 1050, 555, 1049, 556, 1049, 556, 1048, 556, 1047, 559, 1046, 577, 1027, 578, 1026, 579, 1025, 579, 1025, 2580, 1024, 2580, 1022, 2582, 1022, 2582, 1021, 2583, 1020]
# my ac on signal .
for i in range(len(signal)):
    if(i%2==0):
        status=1
    else:
        status=0    
    looper(signal[i],status=status)    
modulation.deinit()  # This fully turns off PWM on the pin
